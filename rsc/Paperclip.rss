// this four-letter name does not have to be unique between ALL
// applications, only between EPOC32's resource files and our own
//
NAME KROC

#include <eikdef.rh>
#include <eiklabel.rh>
#include <eiktbar.rh>
#include <eikmenu.rh>
#include <eikctrls.hrh>
#include <eikspace.rh>
#include <eikclock.rh>
#include <eikbutb.hrh>
#include <eikcmbut.rh>
#include <eikmfne.rh>		// for NUMBER_EDITOR
#include <eikon.rsg>
#include <eikon.mbg>		// for EMbmEikonDarrow

// NB: this spacing size was taken from Word, it doesn't appear
// in the EIKON sources. on the Revo, it'll need to be different!
#define KWStdToolbandSpacer						10

#include "Paperclip.hrh"
#include "..\mbm\Paperclip.mbg"

// Latin-1 / Windows-1252 codepoint for ellipsis ("..."),
// since this will differ if this file is saved as UTF-8 
#define ELLIPSIS 133

RESOURCE RSS_SIGNATURE { }

// TODO: note that this is our default document file-name.
// when we move to using project files, we'll need to fill this in
RESOURCE TBUF { buf=""; }

RESOURCE EIK_APP_INFO
{
	menubar=r_paperclip_menubar;
//	menubar=r_paperclip_menubar_editor;

	hotkeys=r_paperclip_hotkeys_editor;

	// "toolbar" here means the bar down the right-hand
	// side of the screen that includes the clock
	toolbar=r_paperclip_toolbar_empty;
//	toolbar=r_paperclip_toolbar;
	
	// the "toolband" is what we would call a toolbar nowadays,
	// it runs along the top of the screen. it's typically called
	// the "Top ToolBar" in user-facing Psion documentation
// 	toolband=r_paperclip_toolband_dummy;
}

////////////////////////////////////////////////////////////////////////////////

#include "Paperclip_toolbar.rh"
#include "Paperclip_toolband.rh"
#include "Paperclip_dialog.rh"

///////////////////////////////////////////////////////////////////////////////

RESOURCE HOTKEYS r_paperclip_hotkeys_editor
{
	control=
	{
		// file:
		HOTKEY { key='n'; command=EPaperclipCmdNewFile; },
		HOTKEY { key='o'; command=EPaperclipCmdOpenFile; },
		HOTKEY { key='s'; command=EPaperclipCmdSaveFile; },
		HOTKEY { key='e'; command=EPaperclipCmdCloseFile; },
		// edit:
		HOTKEY { key='z'; command=EPaperclipCmdUndo; },
		HOTKEY { key='y'; command=EPaperclipCmdRedo; },
		HOTKEY { key='a'; command=EPaperclipCmdSelectAll; },
		HOTKEY { key='w'; command=EPaperclipCmdSelectWord; },
		HOTKEY { key='l'; command=EPaperclipCmdSelectLine; },
		HOTKEY { key='x'; command=EPaperclipCmdCut; },
		HOTKEY { key='c'; command=EPaperclipCmdCopy; },
		HOTKEY { key='v'; command=EPaperclipCmdPaste; },
		// find:
		HOTKEY { key='f'; command=EPaperclipCmdFind; },
		HOTKEY { key='j'; command=EPaperclipCmdFindNext; },
		HOTKEY { key='g'; command=EPaperclipCmdGoTo; },
		HOTKEY { key='h'; command=EPaperclipCmdReplace; },
		// view:
		HOTKEY { key='q'; command=EPaperclipCmdMode; },
		HOTKEY { key='t'; command=EPaperclipCmdShowToolbar; },
		HOTKEY { key='m'; command=EPaperclipCmdZoomIn; },
		// tools:
		HOTKEY { key='k'; command=EPaperclipCmdPreferences; }
	};
	shift_control=
	{
		// project:
		HOTKEY { key='n'; command=EPaperclipCmdNewProject; },
		HOTKEY { key='o'; command=EPaperclipCmdOpenProject; },
		HOTKEY { key='e'; command=EEikCmdExit; },
		// file:
		HOTKEY { key='s'; command=EPaperclipCmdSaveFileAs; },
		// edit
		HOTKEY { key='c'; command=EPaperclipCmdInsertSymbol; },
		// find:
		HOTKEY { key='f'; command=EPaperclipCmdFindSelected; },
		HOTKEY { key='j'; command=EPaperclipCmdFindPrevious; },
		// view:
		HOTKEY { key='t'; command=EPaperclipCmdShowToolband; },
		HOTKEY { key='m'; command=EPaperclipCmdZoomOut; }
	};
}

////////////////////////////////////////////////////////////////////////////////
// when the app initialises, the default menu is a cut-down version
// designed for when there is no project or file loaded
//
RESOURCE MENU_BAR r_paperclip_menubar
{
	titles=
	{
		MENU_TITLE { txt="Project"; menu_pane=r_paperclip_menu_project; }
	};
}

RESOURCE MENU_PANE r_paperclip_menu_project
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdNewProject;
			txt="New Poject"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdOpenProject;
			flags=EEikMenuItemSeparatorAfter;
			txt="Open Poject"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdAbout;
			flags=EEikMenuItemSeparatorAfter;
			txt="About";
		},
		MENU_ITEM
		{
			command=EEikCmdExit;
			txt="Close";
		}
    };
}

////////////////////////////////////////////////////////////////////////////////

RESOURCE MENU_BAR r_paperclip_menubar_editor
{
	titles=
	{
		MENU_TITLE { txt="Project";	menu_pane=r_paperclip_project_menu; },
		MENU_TITLE { txt="File";	menu_pane=r_paperclip_file_menu; },
		MENU_TITLE { txt="Edit";	menu_pane=r_paperclip_edit_menu; },
		MENU_TITLE { txt="Find";	menu_pane=r_paperclip_find_menu; },
		MENU_TITLE { txt="View";	menu_pane=r_paperclip_view_menu; },
		MENU_TITLE { txt="Tools";	menu_pane=r_paperclip_tools_menu; }
	};
}

RESOURCE MENU_PANE r_paperclip_project_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdNewProject;
			txt="New Poject"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdOpenProject;
			flags=EEikMenuItemSeparatorAfter;
			txt="Open Poject"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdAddFileToProject;
			txt="Add file to project"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSaveAllFiles;
			flags=EEikMenuItemSeparatorAfter;
			txt="Save All Open Files";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdCloseAllFiles;
			txt="Close All Open Files";
		},
		MENU_ITEM
		{
			command=EEikCmdExit;
			txt="Close Project";
		}
    };
}

RESOURCE MENU_PANE r_paperclip_file_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdNewFile;
			txt="New File";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdOpenFile;
			flags=EEikMenuItemSeparatorAfter;
			txt="Open File"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			//command=EPaperclipCmdSaveFile;
			cascade=r_paperclip_save_menu;
			flags=EEikMenuItemSeparatorAfter;
			txt="Save File";
		},
		MENU_ITEM
		{
			command=EPaperclipRemoveFileFromProject;
			flags=EEikMenuItemDimmed;
			txt="Remove from project";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdFileProperties;
			flags=EEikMenuItemSeparatorAfter|EEikMenuItemDimmed;
			txt="Properties";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdCloseFile;
			flags=EEikMenuItemDimmed;
			txt="Close File";
		}
    };
}

RESOURCE MENU_PANE r_paperclip_save_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdSaveFile;
			txt="Save";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSaveFileAs;
			txt="Save As"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipRevertToSaved;
			txt="Revert to saved";
		}
	};
}

RESOURCE MENU_PANE r_paperclip_edit_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdUndo;
			flags=EEikMenuItemDimmed;
			txt="Undo";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdRedo;
			flags=EEikMenuItemSeparatorAfter|EEikMenuItemDimmed;
			txt="Redo";
		},
		MENU_ITEM
		{
			cascade=r_paperclip_select_menu;
			flags=EEikMenuItemSeparatorAfter;
			txt="Select";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdCut;
			txt="Cut";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdCopy;
			txt="Copy";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdPaste;
			flags=EEikMenuItemSeparatorAfter;
			txt="Paste";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdInsertSymbol;
			txt="Insert symbol"<ELLIPSIS>;
		}
    };
}

RESOURCE MENU_PANE r_paperclip_select_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdSelectAll;
			txt="All";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSelectWord;
			txt="Current Word";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSelectLine;
			txt="Current Line";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSelectParagraph;
			txt="Current Paragraph";
		}
	};
}

RESOURCE MENU_PANE r_paperclip_find_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdFind;
			txt="Find"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdFindSelected;
			txt="Find Selected";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdFindNext;
			txt="Find Next";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdFindPrevious;
			txt="Find Previous";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdReplace;
			flags=EEikMenuItemSeparatorAfter;
			txt="Replace"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdGoTo;
			txt="Go To"<ELLIPSIS>;
		}
    };
}

RESOURCE MENU_PANE r_paperclip_view_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdMode;
			cascade=r_paperclip_mode_menu;
			txt="Mode";
		},
		MENU_ITEM
		{
			cascade=r_paperclip_toolbars_menu;
			flags=EEikMenuItemSeparatorAfter;
			txt="Toolbars";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdZoomIn;
			txt="Zoom in";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdZoomOut;
			txt="Zoom out";
		}
    };
}

RESOURCE MENU_PANE r_paperclip_mode_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdEditorView;
			flags=EEikMenuItemRadioStart|EEikMenuItemSymbolOn;
			txt="Editor";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdFilesView;
			flags=EEikMenuItemRadioMiddle;
			txt="Files";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSearchView;
			flags=EEikMenuItemRadioMiddle;
			txt="Search";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdConfigView;
			flags=EEikMenuItemRadioEnd;
			txt="Config";
		}
	};
}

RESOURCE MENU_PANE r_paperclip_toolbars_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdShowToolbar;
			flags=EEikMenuItemCheckBox|EEikMenuItemSymbolOn;
			txt="Show Toolbar";
		},
		MENU_ITEM
		{
			command=EPaperclipCmdShowToolband;
			flags=EEikMenuItemCheckBox|EEikMenuItemSymbolOn;
			txt="Show Toolband";
		}
	};
}

RESOURCE MENU_PANE r_paperclip_tools_menu
{
	items=
	{
		MENU_ITEM
		{
			command=EPaperclipCmdPreferences;
			flags=EEikMenuItemSeparatorAfter;
			txt="Preferences"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdSpellCheck;
			txt="Spell Check"<ELLIPSIS>;
		},
		MENU_ITEM
		{
			command=EPaperclipCmdWordCount;
			txt="Word Count";
		}
    };
}